(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["next-number"],{"129f":function(e,a){e.exports=Object.is||function(e,a){return e===a?0!==e||1/e===1/a:e!=e&&a!=a}},"183a":function(e,a,t){"use strict";var l=t("feef"),r=t.n(l);r.a},"7d51":function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"search-bar"},[t("el-form",{ref:"searchForm",staticClass:"form-style",attrs:{inline:!0,model:e.searchForm,rules:e.rules}},[t("el-form-item",{attrs:{label:"编号类型:",prop:"nextNumberType"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchForm.nextNumberType,callback:function(a){e.$set(e.searchForm,"nextNumberType",a)},expression:"searchForm.nextNumberType"}},e._l(e.type,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"定义目标:",prop:"definedBy"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchForm.definedBy,callback:function(a){e.$set(e.searchForm,"definedBy",a)},expression:"searchForm.definedBy"}},e._l(e.target,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"",prop:"mat"}},[t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.onChange},model:{value:e.searchForm.mat,callback:function(a){e.$set(e.searchForm,"mat",a)},expression:"searchForm.mat"}},e._l(e.options,(function(a){return t("el-option",{key:a.matRev,attrs:{label:a.mat,value:a.matRev}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.mat))]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(a.matRev))])])})),1)],1),"matGroup"!==e.searchForm.target?t("el-form-item",{attrs:{label:"版本:",prop:"vision"}},[t("el-input",{model:{value:e.searchForm.vision,callback:function(a){e.$set(e.searchForm,"vision",a)},expression:"searchForm.vision"}})],1):e._e(),t("el-form-item",{attrs:{label:"提交规则:",prop:"commitType"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchForm.commitType,callback:function(a){e.$set(e.searchForm,"commitType",a)},expression:"searchForm.commitType"}},e._l(e.commitRule,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",[t("el-button",{staticClass:"pad1040",attrs:{type:"primary"},on:{click:function(a){return e.search("searchForm")}}},[e._v("查询")]),t("el-button",{staticClass:"pad1040",attrs:{type:"warning"},on:{click:function(a){return e.resetForm("searchForm")}}},[e._v("重置")])],1)],1)],1),t("div",{staticClass:"operate ml30 mtb10"},[t("el-button",{staticClass:"mr25 pad1025",attrs:{size:"small",type:"primary"},on:{click:e.add}},[e._v("添加")]),t("el-button",{staticClass:"mr25 pad1025",attrs:{size:"small",type:"warning"},on:{click:e.save}},[e._v("编辑")]),t("el-button",{staticClass:"mr25 pad1025",attrs:{size:"small",type:"danger"},on:{click:e.del}},[e._v("删除")])],1),t("div",{},[t("el-table",{ref:"multipleTable",attrs:{border:"",data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":!0}}),t("el-table-column",{attrs:{type:"index",label:"序号"}}),t("el-table-column",{attrs:{prop:"type",label:"类型"}}),t("el-table-column",{attrs:{prop:"material",label:"值"}}),t("el-table-column",{attrs:{prop:"operate",label:"操作"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleClick(a.row)}}},[t("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("↑")]),t("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("↓")])],1)]}}])})],1),t("el-pagination",{staticClass:"mtb20",attrs:{background:"","current-page":this.tableData.page.currentPage,"page-sizes":[1,10,15,20,30,50],"page-size":this.tableData.page.pageSize,layout:"->, total, prev, pager, next, sizes, jumper",total:this.tableData.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),t("el-dialog",{attrs:{title:"添加",visible:e.addDialog},on:{"update:visible":function(a){e.addDialog=a}}},[t("el-form",{attrs:{model:e.addForm,inline:!0,"label-width":e.formLabelWidth}},[t("el-form-item",{attrs:{label:"规则类型:"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.type,callback:function(a){e.$set(e.addForm,"type",a)},expression:"addForm.type"}},e._l(e.ruleTypes,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),1==e.addForm.type?t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"固定字符串:",prop:"str"}},[t("el-input",{model:{value:e.addForm.str,callback:function(a){e.$set(e.addForm,"str",a)},expression:"addForm.str"}})],1)],1)],1):e._e(),2==e.addForm.type?t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"可替换参数:",prop:"replaceable"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.replaceable,callback:function(a){e.$set(e.addForm,"replaceable",a)},expression:"addForm.replaceable"}},e._l(e.replaceable,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1):e._e(),t("el-row",[t("el-col",{attrs:{span:24}},[3==e.addForm.type?t("el-form-item",{attrs:{label:"时间格式化:",prop:"date"}},[t("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.addForm.date,callback:function(a){e.$set(e.addForm,"date",a)},expression:"addForm.date"}})],1):e._e()],1)],1),4==e.addForm.type?t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"长度:",prop:"length",required:""}},[t("el-input",{model:{value:e.addForm.length,callback:function(a){e.$set(e.addForm,"length",a)},expression:"addForm.length"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"进制:",prop:"base"}},[t("el-input",{model:{value:e.addForm.base,callback:function(a){e.$set(e.addForm,"base",a)},expression:"addForm.base"}})],1)],1)],1):e._e(),4==e.addForm.type?t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"增量:",prop:"increment"}},[t("el-input",{model:{value:e.addForm.increment,callback:function(a){e.$set(e.addForm,"increment",a)},expression:"addForm.increment"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"初始值:",prop:"initValue",required:""}},[t("el-input",{model:{value:e.addForm.initValue,callback:function(a){e.$set(e.addForm,"initValue",a)},expression:"addForm.initValue"}})],1)],1)],1):e._e(),4==e.addForm.type?t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"终值:",prop:"finalValue"}},[t("el-input",{model:{value:e.addForm.finalValue,callback:function(a){e.$set(e.addForm,"finalValue",a)},expression:"addForm.finalValue"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"循环:",prop:"circle"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.circle,callback:function(a){e.$set(e.addForm,"circle",a)},expression:"addForm.circle"}},e._l(e.circle,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1):e._e(),4==e.addForm.type?t("el-row",[t("el-col",{staticStyle:{"padding-left":"120px"},attrs:{span:12}},[t("el-radio-group",{model:{value:e.addForm.sequence,callback:function(a){e.$set(e.addForm,"sequence",a)},expression:"addForm.sequence"}},[t("el-radio-button",{attrs:{label:"顺序"}}),t("el-radio-button",{attrs:{label:"反序"}})],1)],1)],1):e._e()],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.addDialog=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.addDialog=!1}}},[e._v("确 定")])],1)],1)],1)},r=[],o=(t("841c"),t("8e44")),n=function(e){return o["a"].post("".concat(window.VUE_APP_URL,"/mes/nextNumberService/findNextNumberConfiguration"),e)},s=function(e){return o["a"].post("".concat(window.VUE_APP_URL,"/mes/nextNumberService/getMatList"),e)},i={name:"next-number",data:function(){return{formLabelWidth:"120px",searchForm:{definedBy:"MAT",nextNumberType:"S",value:"",vision:"",commitType:""},addDialog:!1,addForm:{type:"",str:""},checkedList:[],options:[],circle:[{value:"1",label:"从不"},{value:"2",label:"总是"},{value:"3",label:"每天"},{value:"4",label:"每周"},{value:"5",label:"每月"},{value:"6",label:"每年"}],ruleTypes:[{value:"1",label:"固定字符串"},{value:"2",label:"可替换参数"},{value:"3",label:"时间"},{value:"4",label:"自增长序列"}],replaceable:[{value:"1",label:"物料"},{value:"2",label:"物料版本"},{value:"3",label:"工单"},{value:"4",label:"工厂"}],rules:{},tableData:{data:[],page:{currentPage:1,pageSize:10,total:0}},type:[{value:"S",label:"工单下达"},{value:"I",label:"车间库存接收"}],target:[{value:"MAT",label:"物料"},{value:"MAT_GROUP",label:"物料组"}],commitRule:[{value:"transaction",label:"事务"},{value:"immediately",label:"即时"}]}},created:function(){this.init(),this.search()},methods:{init:function(){var e=this;s().then((function(a){e.options=a.data.data}))},search:function(){var e=this,a=this.searchForm;n(a).then((function(a){e.tableData.data=a.data.data.data,e.tableData.page.total=a.data.data.total}))},resetForm:function(e){this.$refs[e].resetFields()},handleSelectionChange:function(e){this.checkedList=e},handleSizeChange:function(e){this.tableData.page.pageSize=e,this.search()},handleCurrentChange:function(e){this.tableData.page.currentPage=e,this.search()},onChange:function(e){console.log(e),this.searchForm.vision=e},add:function(){},save:function(){},del:function(){}}},c=i,d=(t("183a"),t("2877")),u=Object(d["a"])(c,l,r,!1,null,"ee58ae22",null);a["default"]=u.exports},"841c":function(e,a,t){"use strict";var l=t("d784"),r=t("825a"),o=t("1d80"),n=t("129f"),s=t("14c3");l("search",1,(function(e,a,t){return[function(a){var t=o(this),l=void 0==a?void 0:a[e];return void 0!==l?l.call(a,t):new RegExp(a)[e](String(t))},function(e){var l=t(a,e,this);if(l.done)return l.value;var o=r(e),i=String(this),c=o.lastIndex;n(c,0)||(o.lastIndex=0);var d=s(o,i);return n(o.lastIndex,c)||(o.lastIndex=c),null===d?-1:d.index}]}))},feef:function(e,a,t){}}]);
//# sourceMappingURL=next-number.4eb99d2a.js.map